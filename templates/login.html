{% extends 'base.html' %}
{% load static %}
{% block title %}图书管理-登录{% endblock %}
{% block css %}
<link rel="stylesheet" href="{% static 'css/login.css' %}">
<link href="https://cdn.bootcss.com/bootstrap-switch/4.0.0-alpha.1/css/bootstrap-switch.min.css" rel="stylesheet">
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/bootstrap-switch/4.0.0-alpha.1/js/bootstrap-switch.min.js"></script>
{% endblock %}
{% block content %}
<div class="container" style="height: 100%; width: 100%;display: flex;justify-content: center;align-items: center;">
    <div class="col-md-4" style="margin-bottom: 100px;">
        <form class='form-login' style="background: none;" action="/login/" method="post">
            {% csrf_token %}
            <h2 class="text-center" style="font-size: 30pt;margin-bottom: 50px;">欢迎登录</h2>
            <div style="margin-bottom: 5px;" class="">
                <input name="login_type" type="checkbox">
            </div>
            <div class="form-group">
                <label for="id_username">用户名：</label>
                <input type="text" name='username' class="form-control" id="id_username" placeholder="用户名" autofocus
                       required>
            </div>
            <div class="form-group">
                <label for="id_password">密码：</label>
                <input type="password" name='password' class="form-control" id="id_password" placeholder="密码" required>
            </div>
            <a name="reg" type="button" class="btn btn-default pull-left" href="/register">注册</a>
            <button type="submit" class="btn btn-primary pull-right">登录</button>
        </form>
    </div>
</div> <!-- /container -->
<script> $('[name="login_type"]').bootstrapSwitch({    //初始化按钮
       onText:"管理员登录",
       offText:"读者登录",
       onSwitchChange:function(event,state){
          if(state==true){
               $('[name="reg"]').css("visibility", "hidden");
             }else{
               $('[name="reg"]').css("visibility", "inherit");
             }
         }
    });
</script>
{% endblock %}